(this["webpackJsonpcord-19-ui"]=this["webpackJsonpcord-19-ui"]||[]).push([[0],{160:function(e,n,t){e.exports=t.p+"static/media/VespaLogoWhite.2fad86a7.png"},193:function(e,n,t){e.exports=t(335)},198:function(e,n,t){},335:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),o=t(40),c=t.n(o),l=(t(198),t(199),t(54)),i=t(33),s=t(17),u=t(18),m=t(348),d=t(179),h=t(180);var g=function(e){let n=e.to,t=Object(h.a)(e,["to"]);return"download"in t?r.a.createElement("a",Object.assign({},t,{href:n}),t.children):!n||n.startsWith("http")||n.startsWith("/api/")?r.a.createElement("a",Object.assign({target:"_blank",rel:"noopener noreferrer"},t,{href:n}),t.children):r.a.createElement(l.a,Object.assign({to:n},t))},p=t(160),f=t.n(p);function E(){const e=Object(s.a)(["\n  &&& {\n    height: 64px;\n    margin: 0;\n\n    border-bottom: 1px solid rgba(63, 157, 216, 0.25);\n\n    .item,\n    .item > a,\n    .item > a:not(.ui) {\n      color: white;\n      font-weight: bold;\n    }\n\n    .item > a:hover {\n      color: #ffc43c;\n    }\n\n    .ui.image {\n      width: 100px;\n    }\n  }\n"]);return E=function(){return e},e}const b=Object(u.a)(m.a)(E());var w=function(){return r.a.createElement(i.a,{sx:{paddingLeft:"16px",paddingRight:"16px"},width:1},r.a.createElement(b,{secondary:!0,inverted:!0,fluid:!0},r.a.createElement(m.a.Item,{fitted:!0},r.a.createElement(g,{to:"https://cloud.vespa.ai/"},r.a.createElement(d.a,{src:f.a}))),r.a.createElement(m.a.Menu,{position:"right"},r.a.createElement(m.a.Item,null,r.a.createElement(g,{to:"https://github.com/vespa-engine/cord-19/blob/master/README.md"},"Read more")))))};function v(){const e=Object(s.a)(["\n  &&& {\n    width: 100%;\n    margin: auto 0 0;\n    padding: 1rem 0;\n    border-top: 1px solid rgba(63, 157, 216, 0.25);\n    background-color: #3f9cd8;\n    color: white;\n    text-align: center;\n\n    a {\n      color: white;\n      font-weight: bold;\n    }\n\n    a:hover {\n      color: #ffc43c;\n    }\n  }\n"]);return v=function(){return e},e}const O=Object(u.a)(i.a)(v());var j=function(){return r.a.createElement(O,null,r.a.createElement(g,{to:"https://pages.semanticscholar.org/coronavirus-research"},"COVID-19 Open Research Dataset (CORD-19)"),". 2020. Version 2020-03-20. Accessed 2020-03-27."," ",r.a.createElement(g,{to:"https://doi.org/10.5281/zenodo.3727291"},"doi:10.5281/zenodo.3727291"),r.a.createElement("br",null),"Copyright Verizon Media 2020 Licensed under"," ",r.a.createElement(g,{to:"https://github.com/vespa-engine/cord-19/blob/master/LICENSE"},"Apache License 2.0"))},x=t(349),S=t(53),y=t(344);function C(){const e=Object(s.a)(["\n  &&& {\n    font-size: 1.1rem;\n    display: flex;\n    width: 100%;\n    max-width: 800px;\n    margin: 0 auto;\n\n    .input {\n      width: 100%;\n    }\n  }\n"]);return C=function(){return e},e}const k=Object(u.a)(y.a)(C());var R=function(){const e=Object(a.useState)(window.location.search),n=Object(S.a)(e,2),t=n[0],o=n[1],c=new URLSearchParams(t);return r.a.createElement(k,{onSubmit:()=>Object(l.c)("/search?"+c)},r.a.createElement(y.a.Input,{icon:"search",placeholder:"Search...",className:"input",onChange:(e,{value:n})=>(c.set("query",n),o(c.toString())),value:c.get("query")||""}))};function A(){const e=Object(s.a)(["\n  &&& {\n    font-size: 1.1rem;\n\n    .column {\n      margin-top: 200px;\n      padding: 0;\n    }\n\n    h1 {\n      font-size: 3.5rem;\n      font-weight: 300;\n    }\n  }\n"]);return A=function(){return e},e}const _=Object(u.a)(x.a)(A());var D=function(){return r.a.createElement(_,{verticalAlign:"middle",textAlign:"center"},r.a.createElement(x.a.Column,null,r.a.createElement("h1",{size:"huge"},"CORD-19 Search"),r.a.createElement(R,null)))},L=t(350),z=t(347);function I(){const e=Object(s.a)(["\n  &&& {\n    width: 100%;\n    margin: 0;\n    .ui.message {\n      background: transparent;\n      box-shadow: none;\n    }\n    .ui.warning.message {\n      background: #fffaf3;\n    }\n    .ui.error.message {\n      background: #fff6f6;\n    }\n  }\n"]);return I=function(){return e},e}const T=Object(u.a)(L.a)(I()),W=({header:e,message:n})=>r.a.createElement(T,{basic:!0,textAlign:"center"},r.a.createElement(z.a,null,e&&r.a.createElement(z.a.Header,null,e),r.a.createElement(z.a.Content,null,n))),N=({header:e,message:n})=>r.a.createElement(T,{basic:!0,textAlign:"center"},r.a.createElement(z.a,{error:!0},e&&r.a.createElement(z.a.Header,null,e),r.a.createElement(z.a.Content,null,n)));var P=t(114);const Y=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_BACKEND_URL||"https://api.cord19.vespa.ai";function H(e,n,t){function r(e,n){return Object(P.a)({},e,{},n)}n.startsWith("http")||(n=Y+n),(t=t||{}).method=e,t.credentials="same-origin";const o=()=>fetch(n,t).then(e=>e.ok?e:e.text().then(n=>{let t=n;try{const e=JSON.parse(n);"message"in e&&(t=e.message)}catch(a){}return Promise.reject({message:t,code:e.status})})).then(e=>{const n=e.headers.get("content-type");return!n||t.returnRaw?e:n.includes("application/json")?e.json():n.includes("text/plain")?e.text():e});let c=!1;return{promise:o,state:e=>{const t=e||0,l={url:n,loading:null,cancel:()=>{c=!0},response:null,error:null,version:t},i=Object(a.useReducer)(r,l),s=Object(S.a)(i,2),u=s[0],m=s[1];return n===u.url&&t===u.version||m(l),null===u.loading&&(m({loading:!0}),o().then(e=>{c||m({loading:!1,response:e,version:t})}).catch(e=>{c||m({loading:!1,error:e,version:t})})),Object(P.a)({},u,{loading:null===u.loading||u.loading})}}}var U=t(346),F=t(178),M=t.n(F);function V(){const e=Object(s.a)(["\n  &.card {\n    width: 100%;\n  }\n\n  .header {\n    font-weight: bold;\n    padding: 5px;\n  }\n\n  .meta {\n    padding: 3px 5px;\n\n    a.doi {\n      float: right;\n    }\n  }\n\n  .meta:after {\n    content: '';\n    display: table;\n    clear: both;\n  }\n\n  && .content {\n    padding: 0.5em;\n  }\n"]);return V=function(){return e},e}const B=Object(u.a)(U.a)(V()),K=e=>e&&"https://doi.org/None"!==e,J=(e,n)=>e.replace(/<(\/?)hi>/g,n),q=({first:e,middle:n,last:t})=>{if(!t)return e||n;const a=[e,n].filter(e=>e).join(" ").match(/(?:(?=^|\s)(\w)|([A-Z]))/g);return(a?a.join("")+" ":"")+t};function $({journal:e,timestamp:n}){const t=e?" (YYYY)":"YYYY";return r.a.createElement(r.a.Fragment,null,e,n>0?r.a.createElement(M.a,{format:t,unix:!0,utc:!0},1e3*n):null)}function G({doi:e}){return K(e)?r.a.createElement(g,{className:"ui doi",to:e},e.replace("https://doi.org/","doi:")):null}function Z({authors:e}){const n=Object(a.useState)(!1),t=Object(S.a)(n,2),o=t[0],c=t[1];if(!e)return null;const l=o||e.length<12?e.length:10;return r.a.createElement("div",null,e.map(q).slice(0,l).join(", "),l<e.length?r.a.createElement(r.a.Fragment,null," ",r.a.createElement("a",{href:"#root",onClick:e=>{e.preventDefault(),c(!0)}},"and ",e.length-l," more")):null)}var Q=function({fields:{id:e,title:n,timestamp:t,journal:a,doi:o,abstract:c,authors:l}}){const i=(e=>{if(!e)return null;const n=J(e.replace(/<sep \/>/g,"\u2026"),"<$1b>");return r.a.createElement("p",{dangerouslySetInnerHTML:{__html:n}})})(c),s=J(n,"");return r.a.createElement(B,null,r.a.createElement(U.a.Header,null,K(o)?r.a.createElement(g,{to:o},s):r.a.createElement(r.a.Fragment,null,s)),r.a.createElement(U.a.Meta,null,r.a.createElement($,{journal:a,timestamp:t}),r.a.createElement(G,{doi:o}),r.a.createElement(Z,{authors:l})),i&&r.a.createElement(U.a.Content,null,i))};function X(){const e=Object(s.a)(["\n  &&& {\n    font-size: 1.1rem;\n    width: 100%;\n    max-width: 1000px;\n    margin: 0 auto;\n    padding: 2rem 0.5rem;\n\n    .column {\n      padding: 0;\n    }\n  }\n"]);return X=function(){return e},e}const ee=u.a.div(X());function ne(){const e=new URLSearchParams(window.location.search);e.set("type","any"),e.set("summary","short");const n=(c="/search/?"+e.toString(),H("GET",c,l)).state(),t=n.loading,a=n.response,o=n.error;var c,l;return t?r.a.createElement(W,{message:"Searching..."}):o?r.a.createElement(N,{message:o.message||"Unknown search error..."}):(console.log(a),"children"in a.root?r.a.createElement(r.a.Fragment,null,a.root.children.map((e,n)=>r.a.createElement(Q,Object.assign({key:n},e)))):null)}var te=function(){return r.a.createElement(ee,null,r.a.createElement(R,null),r.a.createElement(ne,null))};function ae(){const e=Object(s.a)(["\n  height: 80vh;\n"]);return ae=function(){return e},e}function re(){const e=Object(s.a)(["\n  font-weight: 400;\n  color: #3f9dd8;\n"]);return re=function(){return e},e}const oe=u.a.h2(re()),ce=Object(u.a)(x.a)(ae());var le=function({code:e=404}){const n=(e=>{switch(e){case 403:return"Sorry, you are not authorized to view this page.";case 404:return"Sorry, the page you were looking for does not exist.";case 500:return"Oops... something went wrong.";default:return"Unknown error - really, I have no idea what is going on here."}})(e);return r.a.createElement(ce,{textAlign:"center",verticalAlign:"middle"},r.a.createElement(x.a.Row,null,r.a.createElement(x.a.Column,{width:8},r.a.createElement(oe,null,n))))};var ie=function(){return r.a.createElement(i.b,{flexDirection:"column",minHeight:"100vh"},r.a.createElement(i.a,{width:1,bg:"#3F9CD8"},r.a.createElement(w,null)),r.a.createElement(i.a,{width:1},r.a.createElement(l.b,{primary:!1,component:r.a.Fragment},r.a.createElement(D,{path:"/"}),r.a.createElement(te,{path:"/search"}),r.a.createElement(le,{default:!0}))),r.a.createElement(j,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(ie,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(e=>{e.unregister()})}},[[193,1,2]]]);
//# sourceMappingURL=main.68e6628c.chunk.js.map